# 谈论一下你对mysql redo log的理解？

参考：https://zhuanlan.zhihu.com/p/93131864

## 1 从磁盘开始

mysql是基于硬盘的数据库,所以很多优化都是基于硬盘的瓶颈来做的，为了更好的理解，先花点时间回忆下硬盘的知识。

目前主流的硬盘有2种，一种是机械硬盘，一种是固态硬盘。

大家知道，在一般情况下，固态硬盘读写速度比机械硬盘块，而且快很多，那么快的原因是什么呢？ 主要跟他们的构造和工作原理有关。

### 1.1 机械硬盘

因为我们主要讨论mysql在机械硬盘条件下的表现，所以放上一张示意图：

![trie-tree](https://brt-1303999354.cos.ap-shanghai.myqcloud.com/disk.jpg)

> 机械硬盘主要由：转轴、磁头、盘片组成，一个盘片上划分了很多个磁道，每个磁道上又进一步分了扇区。
> 
> 其中扇区是实际存储数据的地方，一个扇区的大小是512个字节，当对机械硬盘进行读写时需要经过三个步骤：
> 1. 定位到磁道。
> 2. 等待旋转到对应扇区。
> 3. 开始读写。

其中步骤1，2的定位操作都是机械定位。

机械硬盘的读写会比较耗时，和其机械定位的工作原理位有很大的关系。

### 1.2 固态硬盘

> 固态硬盘主要由电路，闪存芯片组成，其中闪存芯片是实际存储数据的地方。
>
> 对固态硬盘的读写分两步：
>
> 1. 定位到闪存芯片。
> 2. 开始读写。

其中步骤1的定位是电子定位。

电子定位肯定比机械定位的速度要快，这也是固态硬盘读写速度快的主要原因。如果需要mysql有更高的读写性能，有条件可以考虑更换SSD。

## 2 文件系统