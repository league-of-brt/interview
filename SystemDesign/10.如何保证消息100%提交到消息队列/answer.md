# 如何保证消息100%提交到消息队列

![pic](https://brt-1303999354.cos.ap-shanghai.myqcloud.com/QQ%E6%88%AA%E5%9B%BE20210331004830.png)

1. 用到消息队列的场景，一定要注意幂等性。所有消费者都需要幂等性处理。
2. 需要考虑到各种网络不佳的问题。这里的每一个 ack 和 nack 都可能出现延迟或丢失，需要评估影响。